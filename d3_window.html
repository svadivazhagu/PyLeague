<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="d3_script.js"></script>
<link rel="stylesheet" type="text/css" href="d3.css">.

<svg id='vis' class='svg-format'></svg>

<script>
    console.log(d3); // test if d3 is loaded

    const WIDTH = 800;
    const HEIGHT = 800;
    var svg = d3.select('body').select('#vis')
        .attr('width', WIDTH)
        .attr('height', HEIGHT)

    var scale = d3.scaleLinear()
        .domain([0, 15000])
        .range([0, 1000])
    
    var xScale = d3.scaleLinear()
        .domain([0, 15000])
        .range([0, WIDTH])
    
    var yScale = d3.scaleLinear()
        .domain([0, 15000])
        .range([HEIGHT, 0])

    var partColor = d3.scaleLinear()
        .domain([1, 10])
        .linear(['#000000', '#FFFFFF'])

    // style='background-image: url("http:\\\\ddragon.leagueoflegends.com\\cdn\\6.8.1\\img\\map\\map11.png")'
    fetch('http://localhost:8080/partFrame.csv', { 'Access-Control-Allow-Origin': '*' })
        .then(result => {
            return result.text();
        }).then(result => {
            console.log(result)
            var data = d3.csvParse(result)

            var circles = svg.selectAll('positions')
                .data(data)
                .enter()
                .append('circle')
                .attr('cx', d => xScale(d.x))
                .attr('cy', d => yScale(d.y))
                .attr('r', 10)
                .attr('fill', d => partColor(d.participantId))
        })
</script>